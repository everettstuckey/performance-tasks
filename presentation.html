<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>SLPS Attendance Trends  - Presentation</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/theme/night.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-2.35.0.min.js"></script>
<style>
:root{--r-heading-font:'Inter',sans-serif;--r-main-font:'Inter',sans-serif;--r-background-color:#0f172a}
.reveal{font-size:22px}
.reveal h1,.reveal h2,.reveal h3{text-transform:none;font-weight:700}
.reveal h2{font-size:1.6em;color:#fff;margin-bottom:.3em}
.reveal ul,.reveal ol{font-size:.82em;text-align:left}
.reveal li{margin-bottom:.35em;color:#cbd5e1}
.reveal li strong{color:#fbbf24}
.reveal .subtitle{color:#94a3b8;font-size:.7em}
.chart-wrap{display:flex;gap:24px;align-items:flex-start}
.chart-box{flex:1.4;min-width:0}
.bullet-box{flex:1;font-size:.78em}
.bullet-box li{margin-bottom:.5em}
.plotly-chart{width:100%;height:380px;border-radius:8px}
.kpi-row{display:flex;gap:12px;flex-wrap:wrap;margin:16px 0}
.kpi{background:#1e293b;border:1px solid #334155;border-radius:8px;padding:12px 16px;flex:1;min-width:120px;text-align:center}
.kpi .val{font-size:1.5em;font-weight:800;color:#f87171}
.kpi .lbl{font-size:.65em;color:#94a3b8;margin-top:2px}
.dl-bar{position:fixed;bottom:12px;right:18px;z-index:100;background:#1e293b;border:1px solid #334155;border-radius:8px;padding:6px 14px;font-size:.72em}
.dl-bar a{color:#f87171;text-decoration:none;font-weight:600}
.tag{display:inline-block;font-size:.55em;padding:2px 8px;border-radius:4px;background:#dc2626;color:#fff;margin-left:8px;vertical-align:middle}
</style>
</head>
<body>
<div class="dl-bar"><a href="files/SLPS_Attendance_Presentation.pptx" download>⬇ Download PowerPoint</a> &nbsp;|&nbsp; <a href="index.html">← Home</a></div>
<div class="reveal"><div class="slides">

<!-- SLIDE 1: Title -->
<section>
<h1 style="font-size:2em">SLPS Attendance Trends</h1>
<h3 style="color:#f87171;margin-top:8px">2023 – 2025 Analysis &amp; Regional Comparisons</h3>
<p class="subtitle">Missouri DESE Proportional Attendance Data (2009–2025)<br>Prepared for the Board of Education &bull; February 2026</p>
</section>

<!-- SLIDE 2: Executive Summary -->
<section>
<h2>Executive Summary</h2>
<div class="kpi-row">
  <div class="kpi"><div class="val">46.3%</div><div class="lbl">2025 Overall</div></div>
  <div class="kpi"><div class="val">50.0%</div><div class="lbl">K-8</div></div>
  <div class="kpi"><div class="val">36.5%</div><div class="lbl">9-12</div></div>
  <div class="kpi"><div class="val" style="color:#4ade80">94.9%</div><div class="lbl">Best School</div></div>
  <div class="kpi"><div class="val" style="color:#ef4444">9.4%</div><div class="lbl">Worst School</div></div>
</div>
<ul>
<li>Unchanged from 2022  - well below 88.3% pre-pandemic peak (2016)</li>
<li>85-point spread across schools; bright spots prove it's achievable</li>
<li>SLPS lags STL metro suburbs by ~40 pp</li>
<li>Chronic absenteeism is the <strong>defining challenge</strong></li>
</ul>
</section>

<!-- SLIDE 3: District Trend -->
<section>
<h2>District-Wide Attendance Trend</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c3" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>2023: 49.4% (+3.1 pp)</li>
<li>2024: 49.9% (+0.5 pp)</li>
<li><strong>2025: 46.3% (−3.6 pp)</strong>  - erased all gains</li>
<li>Peak: 88.3% in 2016</li>
<li>COVID collapse → stalled recovery</li>
<li>90% state target = 44-point gap</li>
</ul></div>
</div>
</section>

<!-- SLIDE 4: Grade Level -->
<section>
<h2>Attendance by Grade Level</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c4" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>K-8 outperforms HS by 13–15 pp</li>
<li>At 36.5%, only 1/3 of HS students attend regularly</li>
<li>Both levels declined in 2025</li>
<li>Younger students depend on parents</li>
<li>Adolescents face competing pressures</li>
</ul></div>
</div>
</section>

<!-- SLIDE 5: Top / Bottom Schools -->
<section>
<h2>School-Level Performance (2025)</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c5" class="plotly-chart" style="height:420px"></div></div>
<div class="bullet-box"><ul>
<li><strong style="color:#4ade80">Mallinckrodt ABI: 94.9%</strong></li>
<li>Metro High: 91.7%</li>
<li>Classical Jr. Academy: 89.4%</li>
<li style="margin-top:16px"><strong style="color:#ef4444">Vashon High: 9.4%</strong></li>
<li>Yeatman-Liddell: 16.1%</li>
<li>Long Middle: 16.9%</li>
<li style="margin-top:16px">Magnet/specialty programs and leadership stability differentiate performers</li>
</ul></div>
</div>
</section>

<!-- SLIDE 6: Biggest Changes -->
<section>
<h2>Biggest Changes 2023 → 2025</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c6" class="plotly-chart" style="height:420px"></div></div>
<div class="bullet-box"><ul>
<li><strong style="color:#4ade80">Carnahan: +28.4 pp</strong></li>
<li>Miller Career: +10.4 pp</li>
<li>Metro High: +7.1 pp</li>
<li style="margin-top:16px"><strong style="color:#ef4444">Nahed Chapman: −27.4 pp</strong></li>
<li>Bryan Hill: −26.3 pp</li>
<li>Hickey: −24.2 pp</li>
<li style="margin-top:16px">Declines warrant immediate investigation</li>
</ul></div>
</div>
</section>

<!-- SLIDE 7: Demographics -->
<section>
<h2>SLPS Demographics (2025)</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c7" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>White students: <strong>77.4%</strong>  - nearly 2× Black rate</li>
<li>Black: 41.4%, Hispanic: 37.7%</li>
<li>FRL mirrors overall rate (46.3%)</li>
<li>LEP and IEP students face extra barriers</li>
<li>Gaps widened since the pandemic</li>
</ul></div>
</div>
</section>

<!-- SLIDE 8: STL MSA Comparison -->
<section>
<h2>SLPS vs STL Metro Area</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c8" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>STL suburban avg: ~85% in 2025</li>
<li>SLPS lags by <strong>~40 pp</strong></li>
<li>STL charters avg: mid-60s</li>
<li>Gap widened dramatically post-COVID</li>
<li>Pre-2017 SLPS was within 5 pp of suburbs</li>
</ul></div>
</div>
</section>

<!-- SLIDE 9: KC Comparison -->
<section>
<h2>SLPS vs Kansas City</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c9" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>KCPS faces similar crisis (~50s)</li>
<li>KC suburbs avg: ~83%</li>
<li>Both urban cores lag suburbs by 30-40 pp</li>
<li>Systemic urban issue, not unique to SLPS</li>
<li>KC charters also struggle</li>
</ul></div>
</div>
</section>

<!-- SLIDE 10: 2025 All Groups Bar -->
<section>
<h2>2025: All Groups Side-by-Side</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c10" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>Urban cores far below suburban averages</li>
<li>Suburban districts cluster around 80–85%</li>
<li>Charters between urban &amp; suburban</li>
<li>The <strong>urban-suburban gap</strong> is the defining feature</li>
<li>Recovery strategies must address urban-specific barriers</li>
</ul></div>
</div>
</section>

<!-- SLIDE 11: SLPS vs KCPS Grade Level -->
<section>
<h2>SLPS vs KCPS: Grade-Level Trends</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c11" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>Both show large K-8 vs 9-12 gaps</li>
<li>KCPS HS tracks closely with SLPS</li>
<li>K-8 recovery stalled at both</li>
<li>HS disengagement is a shared urban crisis</li>
<li>Middle-school transition is key</li>
</ul></div>
</div>
</section>

<!-- SLIDE 12: Cross-Group Demographics -->
<section>
<h2>Demographics: SLPS vs Peers (2025)</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c12" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>Black student rates lowest across all groups</li>
<li>Suburbs outperform urban across every race</li>
<li>White-Black gap widest in urban cores</li>
<li>SLPS &amp; KCPS show identical patterns</li>
<li>Disparities are structural</li>
</ul></div>
</div>
</section>

<!-- SLIDE 13: Equity LEP/IEP/FRL -->
<section>
<h2>Equity: LEP / IEP / FRL (2025)</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c13" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>SLPS LEP, IEP, FRL all lag suburban avgs</li>
<li>KCPS shows same pattern  - urban poverty effect</li>
<li>FRL closely mirrors overall rate</li>
<li>IEP gap smaller  - wraparound services help</li>
<li>Targeted investment in high-poverty schools essential</li>
</ul></div>
</div>
</section>

<!-- SLIDE 14: FRL Scatter -->
<section>
<h2>FRL Rate vs Overall Attendance (2025)</h2>
<div class="chart-wrap">
<div class="chart-box"><div id="c14" class="plotly-chart"></div></div>
<div class="bullet-box"><ul>
<li>Strong correlation: higher poverty → lower attendance</li>
<li>SLPS &amp; KCPS in low-attendance, high-poverty corner</li>
<li>Suburbs cluster at high-attendance, low-poverty</li>
<li>Poverty is the strongest predictor</li>
<li>Interventions must address socioeconomic barriers</li>
</ul></div>
</div>
</section>

<!-- SLIDE 15: Key Findings -->
<section>
<h2>Key Findings &amp; Next Steps</h2>
<ol style="font-size:.82em">
<li><strong>Chronic Absenteeism Crisis</strong>  - 46.3% rate; &gt;50% chronically absent</li>
<li><strong>No Sustained Recovery</strong>  - 2025 erased post-COVID gains</li>
<li><strong>Grade Level Gap</strong>  - 13–15 pp; middle school is inflection point</li>
<li><strong>Bright Spots</strong>  - Mallinckrodt, Metro, Classical Academy prove it works</li>
<li><strong>Urgent Intervention</strong>  - Several schools below 20%</li>
<li><strong>Equity Gaps</strong>  - Racial &amp; socioeconomic disparities severe</li>
</ol>
<h3 style="color:#f87171;margin-top:20px;font-size:.9em">Recommendations</h3>
<ul style="font-size:.78em">
<li>Form Attendance Task Force</li>
<li>Site visits to top-performing schools</li>
<li>Early-warning system by Day 10</li>
<li>Attendance specialists at every building</li>
<li>Pilot targeted interventions at lowest-performing schools</li>
</ul>
</section>

</div></div>

<script>
const D = {"years":[2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025],"slps":{"2009":{"rate":69.9,"k8":74.2,"hs":61.1,"black":67.6,"white":78.5,"hispanic":79.8,"asian":85.0,"multirace":null,"lep":82.0,"iep":63.0,"frl":71.5},"2010":{"rate":72.4,"k8":77.0,"hs":62.8,"black":70.1,"white":80.9,"hispanic":81.6,"asian":89.0,"multirace":null,"lep":84.5,"iep":64.3,"frl":71.5},"2011":{"rate":75.0,"k8":78.7,"hs":67.1,"black":73.1,"white":82.2,"hispanic":80.8,"asian":90.4,"multirace":null,"lep":85.4,"iep":68.6,"frl":74.3},"2012":{"rate":78.0,"k8":81.4,"hs":70.4,"black":76.5,"white":83.0,"hispanic":80.9,"asian":93.1,"multirace":null,"lep":87.7,"iep":71.3,"frl":77.1},"2013":{"rate":79.4,"k8":82.7,"hs":71.1,"black":78.0,"white":84.5,"hispanic":84.6,"asian":93.4,"multirace":null,"lep":90.0,"iep":73.2,"frl":78.6},"2014":{"rate":83.8,"k8":86.0,"hs":78.1,"black":82.5,"white":88.6,"hispanic":88.6,"asian":94.6,"multirace":null,"lep":92.3,"iep":78.5,"frl":82.9},"2015":{"rate":83.5,"k8":86.1,"hs":77.1,"black":82.3,"white":87.3,"hispanic":90.5,"asian":95.3,"multirace":null,"lep":92.1,"iep":76.5,"frl":83.5},"2016":{"rate":88.3,"k8":90.7,"hs":82.5,"black":87.7,"white":90.7,"hispanic":89.4,"asian":94.4,"multirace":null,"lep":92.4,"iep":83.8,"frl":88.3},"2017":{"rate":84.5,"k8":87.3,"hs":77.8,"black":83.4,"white":89.3,"hispanic":86.4,"asian":92.4,"multirace":null,"lep":89.1,"iep":79.9,"frl":84.5},"2018":{"rate":80.4,"k8":83.6,"hs":72.6,"black":78.3,"white":88.0,"hispanic":86.9,"asian":93.4,"multirace":null,"lep":89.5,"iep":74.8,"frl":80.4},"2019":{"rate":77.2,"k8":79.7,"hs":71.0,"black":74.3,"white":88.3,"hispanic":86.1,"asian":92.4,"multirace":null,"lep":87.9,"iep":71.4,"frl":77.2},"2020":{"rate":74.7,"k8":77.1,"hs":68.8,"black":72.0,"white":85.8,"hispanic":79.8,"asian":90.2,"multirace":null,"lep":84.3,"iep":68.4,"frl":74.7},"2021":{"rate":50.3,"k8":54.3,"hs":39.9,"black":44.2,"white":79.5,"hispanic":54.5,"asian":79.3,"multirace":77.4,"lep":61.5,"iep":43.8,"frl":50.2},"2022":{"rate":46.3,"k8":49.5,"hs":38.4,"black":41.0,"white":72.4,"hispanic":48.0,"asian":73.9,"multirace":65.4,"lep":54.9,"iep":37.2,"frl":46.3},"2023":{"rate":49.4,"k8":53.6,"hs":38.9,"black":44.4,"white":74.8,"hispanic":50.3,"asian":70.7,"multirace":59.3,"lep":55.4,"iep":42.6,"frl":49.4},"2024":{"rate":49.9,"k8":54.1,"hs":39.2,"black":45.1,"white":76.1,"hispanic":47.3,"asian":69.3,"multirace":64.4,"lep":52.0,"iep":44.2,"frl":50.0},"2025":{"rate":46.3,"k8":50.0,"hs":36.5,"black":41.4,"white":77.4,"hispanic":37.7,"asian":61.3,"multirace":63.6,"lep":44.8,"iep":40.3,"frl":46.3}},"kcps":{"2009":{"rate":69.6,"k8":80.2,"hs":36.3,"black":66.0,"white":69.6,"hispanic":78.0,"asian":82.4,"multirace":null,"lep":78.1,"iep":65.0,"frl":70.0},"2010":{"rate":71.5,"k8":81.5,"hs":40.1,"black":68.2,"white":69.5,"hispanic":79.5,"asian":79.4,"multirace":null,"lep":83.5,"iep":64.4,"frl":71.6},"2011":{"rate":61.9,"k8":67.5,"hs":44.6,"black":58.4,"white":62.3,"hispanic":68.7,"asian":75.9,"multirace":null,"lep":70.8,"iep":54.9,"frl":60.3},"2012":{"rate":72.3,"k8":79.4,"hs":49.8,"black":68.5,"white":74.5,"hispanic":78.7,"asian":83.9,"multirace":null,"lep":81.2,"iep":64.9,"frl":72.1},"2013":{"rate":69.2,"k8":75.5,"hs":48.6,"black":64.7,"white":71.2,"hispanic":76.5,"asian":82.2,"multirace":71.6,"lep":78.8,"iep":63.0,"frl":68.6},"2014":{"rate":77.4,"k8":81.7,"hs":63.4,"black":73.7,"white":79.5,"hispanic":83.4,"asian":85.2,"multirace":73.4,"lep":84.5,"iep":73.0,"frl":76.9},"2015":{"rate":78.1,"k8":83.0,"hs":63.1,"black":73.3,"white":81.2,"hispanic":85.5,"asian":87.8,"multirace":76.5,"lep":88.0,"iep":74.2,"frl":78.1},"2016":{"rate":80.8,"k8":85.2,"hs":67.6,"black":76.2,"white":83.7,"hispanic":87.3,"asian":92.0,"multirace":81.2,"lep":89.4,"iep":77.2,"frl":80.8},"2017":{"rate":79.2,"k8":84.0,"hs":65.4,"black":74.5,"white":81.3,"hispanic":85.7,"asian":91.4,"multirace":78.5,"lep":89.2,"iep":73.0,"frl":79.1},"2018":{"rate":74.2,"k8":78.4,"hs":62.5,"black":69.8,"white":76.4,"hispanic":80.2,"asian":88.3,"multirace":72.0,"lep":85.0,"iep":65.3,"frl":74.2},"2019":{"rate":73.0,"k8":78.3,"hs":58.0,"black":68.6,"white":78.6,"hispanic":78.2,"asian":82.2,"multirace":72.4,"lep":82.4,"iep":63.3,"frl":73.0},"2020":{"rate":73.7,"k8":79.3,"hs":59.2,"black":68.4,"white":79.2,"hispanic":79.4,"asian":87.2,"multirace":71.7,"lep":83.5,"iep":62.4,"frl":73.7},"2021":{"rate":62.5,"k8":67.7,"hs":49.5,"black":58.6,"white":72.1,"hispanic":65.8,"asian":65.0,"multirace":66.5,"lep":65.7,"iep":59.1,"frl":62.5},"2022":{"rate":49.6,"k8":54.5,"hs":37.9,"black":44.5,"white":67.2,"hispanic":51.0,"asian":58.5,"multirace":44.9,"lep":56.0,"iep":41.6,"frl":49.6},"2023":{"rate":53.7,"k8":59.9,"hs":38.6,"black":48.6,"white":69.3,"hispanic":56.1,"asian":56.7,"multirace":54.9,"lep":60.4,"iep":48.2,"frl":53.7},"2024":{"rate":45.1,"k8":50.9,"hs":31.1,"black":38.5,"white":67.4,"hispanic":47.0,"asian":51.2,"multirace":44.4,"lep":49.2,"iep":40.3,"frl":45.1},"2025":{"rate":48.9,"k8":56.2,"hs":31.4,"black":42.8,"white":68.9,"hispanic":49.6,"asian":54.5,"multirace":50.6,"lep":51.2,"iep":42.2,"frl":48.9}},"avgs":{"stl_msa":{"2009":85.8,"2010":86.3,"2011":87.1,"2012":88.4,"2013":88.9,"2014":89.8,"2015":88.6,"2016":90.0,"2017":88.9,"2018":87.4,"2019":86.4,"2020":85.0,"2021":82.9,"2022":73.5,"2023":74.3,"2024":77.3,"2025":76.6},"stl_charter":{"2009":71.2,"2010":72.2,"2011":74.7,"2012":78.0,"2013":82.5,"2014":81.1,"2015":80.3,"2016":81.8,"2017":82.9,"2018":81.0,"2019":80.4,"2020":75.4,"2021":75.9,"2022":58.1,"2023":55.6,"2024":59.9,"2025":59.2},"kc_msa":{"2009":87.6,"2010":87.0,"2011":87.8,"2012":88.2,"2013":88.2,"2014":89.4,"2015":88.8,"2016":89.3,"2017":88.6,"2018":87.8,"2019":87.4,"2020":86.0,"2021":87.6,"2022":78.9,"2023":76.7,"2024":78.5,"2025":78.1},"kc_charter":{"2009":74.9,"2010":75.7,"2011":77.1,"2012":80.2,"2013":84.4,"2014":82.3,"2015":84.3,"2016":85.4,"2017":85.0,"2018":82.5,"2019":81.8,"2020":81.8,"2021":83.4,"2022":63.3,"2023":63.2,"2024":63.6,"2025":68.5}},"b25":[{"s":"GRISCOM JUVENILE DETENTION CTR","r":100.0},{"s":"MALLINCKRODT A.B.I. ELEM.","r":94.9},{"s":"METRO HIGH","r":91.7},{"s":"BETTY WHEELER CLASSICAL JR. AC","r":89.4},{"s":"COLLEGIATE SCHOOL OF MED/BIO","r":87.8},{"s":"MCKINLEY CLASS. LEADERSHIP AC.","r":76.6},{"s":"MASON ELEM.","r":76.5},{"s":"WILKINSON EARLY CHILDHOOD CTR.","r":74.9},{"s":"GEORGE WASHINGTON CARVER ELEM","r":67.5},{"s":"MANN ELEM.","r":67.4},{"s":"BUDER ELEM.","r":66.4},{"s":"WASHINGTON MONTESSORI","r":65.6},{"s":"AMES VISUAL/PERF. ARTS","r":65.2},{"s":"Woerner Elem","r":64.5},{"s":"Carnahan Middle","r":64.1},{"s":"OAK HILL ELEM.","r":62.9},{"s":"BUSCH MS CHARACTER & ATHLETICS","r":60.9},{"s":"HUMBOLDT ACAD OF HIGHER LRNING","r":60.4},{"s":"STIX EARLY CHILDHOOD CTR.","r":58.6},{"s":"PEABODY ELEM.","r":56.5},{"s":"ADAMS ELEM.","r":53.0},{"s":"SHAW VISUAL/PERF. ARTS CTR.","r":53.0},{"s":"GATEWAY ELEM.","r":52.5},{"s":"EARL NANCE, SR. ELEM.","r":52.0},{"s":"WALBRIDGE ELEM. COMMUNITY ED.","r":52.0},{"s":"WOODWARD ELEM.","r":51.5},{"s":"DEWEY SCH.-INTERNAT'L. STUDIES","r":49.4},{"s":"MULLANPHY BOTANICAL GARDENS","r":48.1},{"s":"BRYAN HILL ELEM.","r":47.7},{"s":"SIGEL ELEM. COMM. ED. CTR.","r":47.2},{"s":"HAMILTON ELEM. COMMUNITY ED.","r":45.9},{"s":"CENTRAL VISUAL/PERF. ARTS HIGH","r":45.0},{"s":"LEXINGTON ELEM.","r":44.7},{"s":"JEFFERSON ELEM.","r":42.6},{"s":"HERZOG ELEM.","r":41.9},{"s":"MERAMEC ELEM.","r":41.9},{"s":"HICKEY ELEM.","r":40.3},{"s":"HODGEN ELEM.","r":40.2},{"s":"FROEBEL ELEM.","r":39.6},{"s":"ACAD OF ENTRE STDY@LOUVERTURE","r":39.1},{"s":"LYON AT BLOW ELEM.","r":39.0},{"s":"SHENANDOAH ELEM.","r":38.4},{"s":"CARR LANE VPA MIDDLE","r":38.0},{"s":"COMPTON-DREW ILC MIDDLE","r":37.5},{"s":"COMMUNITY ACCESS JOB TRAINING","r":37.0},{"s":"COLUMBIA ELEM. COMM. ED. CTR.","r":37.0},{"s":"COLE ELEM.","r":36.6},{"s":"LACLEDE ELEM.","r":36.0},{"s":"ASHLAND ELEM. AND BR.","r":34.7},{"s":"MILLER CAREER ACADEMY","r":33.1},{"s":"HENRY ELEM.","r":33.1},{"s":"GATEWAY MIDDLE","r":31.5},{"s":"MONROE ELEM.","r":27.8},{"s":"NAHED CHAPMAN NEW AMERICAN ACA","r":27.2},{"s":"GATEWAY HIGH","r":26.3},{"s":"SOLDAN INTERNATIONAL STUDIES","r":24.8},{"s":"ROOSEVELT HIGH","r":22.7},{"s":"ELIAS MICHAEL ELEM.","r":21.3},{"s":"SUMNER HIGH","r":17.5},{"s":"LONG MIDDLE COMMUNITY ED. CTR.","r":16.9},{"s":"YEATMAN-LIDDELL MIDDLE SCHOOL","r":16.1},{"s":"VASHON HIGH","r":9.4}],"b23":{"MILLER CAREER ACADEMY":22.7,"GATEWAY HIGH":41.2,"COMMUNITY ACCESS JOB TRAINING":54.6,"BEAUMONT CTE HIGH SCHOOL":42.1,"CARNAHAN SCH. OF THE FUTURE":29.2,"COLLEGIATE SCHOOL OF MED/BIO":85.5,"METRO HIGH":84.6,"MCKINLEY CLASS. LEADERSHIP AC.":76.0,"ROOSEVELT HIGH":21.9,"SOLDAN INTERNATIONAL STUDIES":21.4,"SUMNER HIGH":16.2,"VASHON HIGH":20.0,"CENTRAL VISUAL/PERF. ARTS HIGH":43.4,"YEATMAN-LIDDELL MIDDLE SCHOOL":28.5,"BUSCH MS CHARACTER & ATHLETICS":54.2,"CARR LANE VPA MIDDLE":43.2,"Carnahan Middle":35.7,"GATEWAY MIDDLE":34.1,"ACAD OF ENTRE STDY@LOUVERTURE":30.3,"LONG MIDDLE COMMUNITY ED. CTR.":41.0,"COMPTON-DREW ILC MIDDLE":41.6,"ADAMS ELEM.":58.0,"ASHLAND ELEM. AND BR.":37.3,"BRYAN HILL ELEM.":74.0,"BUDER ELEM.":66.0,"AMES VISUAL/PERF. ARTS":61.8,"COLE ELEM.":46.8,"COLUMBIA ELEM. COMM. ED. CTR.":48.1,"DEWEY SCH.-INTERNAT'L. STUDIES":67.4,"FROEBEL ELEM.":44.3,"GATEWAY ELEM.":50.5,"HAMILTON ELEM. COMMUNITY ED.":39.1,"HENRY ELEM.":33.4,"HICKEY ELEM.":64.5,"HERZOG ELEM.":45.6,"HODGEN ELEM.":45.2,"HUMBOLDT ACAD OF HIGHER LRNING":62.5,"NAHED CHAPMAN NEW AMERICAN ACA":54.6,"GEORGE WASHINGTON CARVER ELEM":73.8,"JEFFERSON ELEM.":38.4,"BETTY WHEELER CLASSICAL JR. AC":88.8,"LACLEDE ELEM.":38.4,"LEXINGTON ELEM.":44.4,"LYON AT BLOW ELEM.":32.6,"MALLINCKRODT A.B.I. ELEM.":94.2,"MANN ELEM.":63.6,"MASON ELEM.":76.5,"MERAMEC ELEM.":51.1,"ELIAS MICHAEL ELEM.":33.8,"MONROE ELEM.":38.3,"MULLANPHY BOTANICAL GARDENS":58.8,"OAK HILL ELEM.":56.1,"EARL NANCE, SR. ELEM.":58.2,"PEABODY ELEM.":62.8,"SHAW VISUAL/PERF. ARTS CTR.":52.0,"Shenandoah Elementary":41.4,"SIGEL ELEM. COMM. ED. CTR.":45.4,"STIX EARLY CHILDHOOD CTR.":68.4,"WALBRIDGE ELEM. COMMUNITY ED.":47.7,"WOERNER ELEM.":59.7,"WASHINGTON MONTESSORI":59.0,"WILKINSON EARLY CHILDHOOD CTR.":68.6,"WOODWARD ELEM.":53.9},"demo25":{"stl_msa":{"rate":74.6,"k8":77.4,"hs":68.0,"black":66.6,"white":79.0,"hispanic":70.1,"asian":83.9,"multirace":73.0,"lep":73.0,"iep":69.7,"frl":64.4},"kc_msa":{"rate":79.0,"k8":81.6,"hs":72.8,"black":73.2,"white":81.6,"hispanic":75.3,"asian":85.4,"multirace":75.8,"lep":76.2,"iep":72.8,"frl":69.9}},"scatter":[{"n":"RAYMORE-PECULIAR R","g":"kc_msa","r":84.8,"f":75.1},{"n":"SHERWOOD CASS R-VI","g":"kc_msa","r":84.5,"f":78.5},{"n":"PLEASANT HILL R-II","g":"kc_msa","r":83.1,"f":72.6},{"n":"HARRISONVILLE R-IX","g":"kc_msa","r":73.9,"f":65.4},{"n":"BELTON 124","g":"kc_msa","r":78.9,"f":74.0},{"n":"KEARNEY R-I","g":"kc_msa","r":83.2,"f":68.2},{"n":"SMITHVILLE R-II","g":"kc_msa","r":85.4,"f":75.4},{"n":"EXCELSIOR SPRINGS ","g":"kc_msa","r":80.0,"f":73.2},{"n":"LIBERTY 53","g":"kc_msa","r":84.5,"f":72.0},{"n":"NORTH KANSAS CITY ","g":"kc_msa","r":75.8,"f":68.5},{"n":"FORT OSAGE R-I","g":"kc_msa","r":71.9,"f":63.8},{"n":"BLUE SPRINGS R-IV","g":"kc_msa","r":84.9,"f":76.9},{"n":"GRAIN VALLEY R-V","g":"kc_msa","r":85.2,"f":75.6},{"n":"OAK GROVE R-VI","g":"kc_msa","r":80.6,"f":70.3},{"n":"LEE'S SUMMIT R-VII","g":"kc_msa","r":85.9,"f":72.6},{"n":"HICKMAN MILLS C-1","g":"kc_msa","r":62.1,"f":62.1},{"n":"RAYTOWN C-2","g":"kc_msa","r":65.6,"f":61.0},{"n":"GRANDVIEW C-4","g":"kc_msa","r":55.5,"f":52.8},{"n":"LONE JACK C-6","g":"kc_msa","r":90.3,"f":74.4},{"n":"INDEPENDENCE 30","g":"kc_msa","r":68.7,"f":64.4},{"n":"KANSAS CITY 33","g":"kcps","r":48.9,"f":48.9},{"n":"CENTER 58","g":"kc_msa","r":66.4,"f":60.5},{"n":"UNIVERSITY ACADEMY","g":"kc_charter","r":83.2,"f":83.2},{"n":"GUADALUPE CENTERS ","g":"kc_charter","r":78.4,"f":78.2},{"n":"HOGAN PREPARATORY ","g":"kc_charter","r":30.1,"f":30.1},{"n":"GENESIS SCHOOL INC","g":"kc_charter","r":50.7,"f":50.7},{"n":"ALLEN VILLAGE","g":"kc_charter","r":89.1,"f":88.7},{"n":"LEE A. TOLBERT COM","g":"kc_charter","r":49.3,"f":49.3},{"n":"KC INTERNATIONAL A","g":"kc_charter","r":61.2,"f":61.2},{"n":"GORDON PARKS ELEM.","g":"kc_charter","r":77.7,"f":77.7},{"n":"ACADEMIE LAFAYETTE","g":"kc_charter","r":83.9,"f":70.5},{"n":"SCUOLA VITA NUOVA","g":"kc_charter","r":81.7,"f":81.7},{"n":"BROOKSIDE CHARTER ","g":"kc_charter","r":78.6,"f":78.6},{"n":"KIPP: ENDEAVOR ACA","g":"kc_charter","r":39.5,"f":39.5},{"n":"FRONTIER SCHOOLS","g":"kc_charter","r":84.7,"f":84.3},{"n":"DELASALLE CHARTER ","g":"kc_charter","r":54.6,"f":49.2},{"n":"EWING MARION KAUFF","g":"kc_charter","r":63.3,"f":63.4},{"n":"HOPE LEADERSHIP AC","g":"kc_charter","r":55.8,"f":55.8},{"n":"CROSSROADS CHARTER","g":"kc_charter","r":56.0,"f":54.2},{"n":"ACADEMY FOR INTEGR","g":"kc_charter","r":58.6,"f":58.6},{"n":"CITIZENS OF THE WO","g":"stl_charter","r":58.7,"f":52.0},{"n":"KANSAS CITY GIRLS ","g":"kc_charter","r":56.7,"f":56.7},{"n":"TROY R-III","g":"stl_msa","r":78.5,"f":67.2},{"n":"NORTH PLATTE CO. R","g":"kc_msa","r":86.3,"f":75.3},{"n":"WEST PLATTE CO. R-","g":"kc_msa","r":90.2,"f":83.0},{"n":"PLATTE CO. R-III","g":"kc_msa","r":79.3,"f":65.3},{"n":"PARK HILL","g":"kc_msa","r":79.0,"f":65.8},{"n":"FORT ZUMWALT SCHOO","g":"stl_msa","r":81.3,"f":66.7},{"n":"FRANCIS HOWELL R-I","g":"stl_msa","r":83.9,"f":69.4},{"n":"WENTZVILLE R-IV","g":"stl_msa","r":79.5,"f":60.4},{"n":"ORCHARD FARM R-V","g":"stl_msa","r":80.4,"f":62.1},{"n":"HAZELWOOD","g":"stl_msa","r":58.8,"f":58.8},{"n":"FERGUSON-FLORISSAN","g":"stl_msa","r":60.4,"f":59.0},{"n":"PATTONVILLE R-III","g":"stl_msa","r":72.3,"f":65.0},{"n":"ROCKWOOD R-VI","g":"stl_msa","r":84.0,"f":67.8},{"n":"KIRKWOOD R-VII","g":"stl_msa","r":88.3,"f":66.1},{"n":"LINDBERGH SCHOOLS","g":"stl_msa","r":86.6,"f":69.8},{"n":"MEHLVILLE R-IX","g":"stl_msa","r":83.9,"f":72.8},{"n":"PARKWAY C-2","g":"stl_msa","r":85.0,"f":68.7},{"n":"AFFTON 101","g":"stl_msa","r":77.5,"f":65.8},{"n":"BAYLESS","g":"stl_msa","r":83.0,"f":79.0},{"n":"BRENTWOOD","g":"stl_msa","r":86.2,"f":70.2},{"n":"CLAYTON","g":"stl_msa","r":91.5,"f":80.7},{"n":"HANCOCK PLACE","g":"stl_msa","r":72.5,"f":72.5},{"n":"JENNINGS","g":"stl_msa","r":54.2,"f":54.2},{"n":"LADUE","g":"stl_msa","r":84.9,"f":75.3},{"n":"MAPLEWOOD-RICHMOND","g":"stl_msa","r":81.5,"f":66.5},{"n":"NORMANDY SCHOOLS C","g":"stl_msa","r":49.6,"f":49.6},{"n":"RITENOUR","g":"stl_msa","r":59.7,"f":59.7},{"n":"RIVERVIEW GARDENS","g":"stl_msa","r":42.9,"f":40.9},{"n":"UNIVERSITY CITY","g":"stl_msa","r":53.8,"f":53.8},{"n":"VALLEY PARK","g":"stl_msa","r":82.0,"f":68.2},{"n":"WEBSTER GROVES","g":"stl_msa","r":88.7,"f":67.1},{"n":"SPECL. SCH. DST. S","g":"stl_msa","r":57.8,"f":45.5},{"n":"THE LEADERSHIP SCH","g":"stl_charter","r":51.4,"f":51.2},{"n":"WRIGHT CITY R-II O","g":"stl_msa","r":75.8,"f":65.2},{"n":"WARREN CO. R-III","g":"stl_msa","r":73.9,"f":63.2},{"n":"ST. LOUIS CITY","g":"slps","r":46.3,"f":46.3},{"n":"LIFT FOR LIFE ACAD","g":"stl_charter","r":54.3,"f":54.3},{"n":"PREMIER CHARTER SC","g":"stl_charter","r":74.9,"f":66.4},{"n":"CONFLUENCE ACADEMI","g":"stl_charter","r":58.7,"f":58.7},{"n":"CITY GARDEN MONTES","g":"stl_charter","r":98.1,"f":96.2},{"n":"ST. LOUIS LANG IMM","g":"stl_charter","r":57.9,"f":51.5},{"n":"NORTH SIDE COMMUNI","g":"stl_charter","r":69.6,"f":74.8},{"n":"KIPP ST LOUIS PUBL","g":"stl_charter","r":45.2,"f":45.2},{"n":"GATEWAY SCIENCE AC","g":"stl_charter","r":64.7,"f":58.1},{"n":"MOMENTUM ACADEMY","g":"stl_charter","r":63.8,"f":63.8},{"n":"THE BIOME","g":"stl_charter","r":40.9,"f":36.5},{"n":"KAIROS ACADEMIES","g":"stl_charter","r":29.9,"f":26.9},{"n":"THE SOULARD SCHOOL","g":"stl_charter","r":90.4,"f":83.9},{"n":"ST. LOUIS VOICES A","g":"stl_charter","r":51.1,"f":51.8}]};
const LO = {paper_bgcolor:'#0f172a',plot_bgcolor:'#1e293b',font:{family:'Inter',color:'#e2e8f0',size:11},
  margin:{t:10,r:20,b:50,l:55},xaxis:{gridcolor:'#334155',zerolinecolor:'#334155'},
  yaxis:{gridcolor:'#334155',zerolinecolor:'#334155'},legend:{font:{size:10},bgcolor:'rgba(0,0,0,0)'}};
const CF = {responsive:true,displayModeBar:false};
const C = {slps:'#f87171',kcps:'#facc15',stl_msa:'#60a5fa',stl_charter:'#4ade80',kc_msa:'#c084fc',kc_charter:'#22d3ee'};

function gv(obj,y,f){const d=obj[y];return d?d[f]:null;}
function ga(g,y){return D.avgs[g]?D.avgs[g][y]:null;}
const YS=D.years;

const rendered=new Set();
function renderSlide(){
  const idx=Reveal.getState().indexh;
  if(rendered.has(idx))return;
  rendered.add(idx);
  try{({
    2:c3,3:c4,4:c5,5:c6,6:c7,7:c8,8:c9,9:c10,10:c11,11:c12,12:c13,13:c14
  })[idx]?.();}catch(e){console.warn('Chart error slide '+idx,e);}
}

function c3(){
  Plotly.newPlot('c3',[
    {x:YS,y:YS.map(y=>gv(D.slps,y,'rate')),name:'SLPS',mode:'lines+markers',line:{color:C.slps,width:3},marker:{size:6}},
  ],{...LO,yaxis:{...LO.yaxis,range:[0,100],ticksuffix:'%',title:'Attendance Rate'},xaxis:{...LO.xaxis,dtick:2},
    shapes:[{type:'line',x0:YS[0],x1:YS[YS.length-1],y0:90,y1:90,line:{color:'#4ade80',width:1,dash:'dash'}}],
    annotations:[{x:2016,y:88.3,text:'Peak 88.3%',showarrow:true,arrowcolor:'#94a3b8',font:{size:10,color:'#fbbf24'}},
                 {x:2021,y:50.3,text:'COVID',showarrow:true,arrowcolor:'#94a3b8',font:{size:10,color:'#ef4444'}}]
  },CF);
}
function c4(){
  Plotly.newPlot('c4',[
    {x:YS,y:YS.map(y=>gv(D.slps,y,'rate')),name:'Overall',mode:'lines+markers',line:{color:C.slps,width:2.5},marker:{size:5}},
    {x:YS,y:YS.map(y=>gv(D.slps,y,'k8')),name:'K-8',mode:'lines+markers',line:{color:'#60a5fa',width:2,dash:'dash'},marker:{size:4}},
    {x:YS,y:YS.map(y=>gv(D.slps,y,'hs')),name:'9-12',mode:'lines+markers',line:{color:'#a78bfa',width:2,dash:'dot'},marker:{size:4}},
  ],{...LO,yaxis:{...LO.yaxis,range:[0,100],ticksuffix:'%'},xaxis:{...LO.xaxis,dtick:2},legend:{...LO.legend,orientation:'h',y:-0.18}},CF);
}
function c5(){
  const top5=D.b25.slice(0,5), bot5=D.b25.slice(-5).reverse();
  const schools=[...top5,...bot5], names=schools.map(s=>s.s), rates=schools.map(s=>s.r);
  const colors=rates.map(r=>r>=80?'#4ade80':r>=50?'#fbbf24':'#ef4444');
  Plotly.newPlot('c5',[{y:names,x:rates,type:'bar',orientation:'h',marker:{color:colors},
    text:rates.map(r=>r+'%'),textposition:'outside',textfont:{size:10}}],
    {...LO,height:420,margin:{...LO.margin,l:200},xaxis:{...LO.xaxis,range:[0,105],ticksuffix:'%'},
     yaxis:{...LO.yaxis,autorange:'reversed'}},CF);
}
function c6(){
  const both=D.b25.filter(b=>D.b23[b.s]!=null).map(b=>({s:b.s,r25:b.r,r23:D.b23[b.s],ch:Math.round((b.r-D.b23[b.s])*10)/10}));
  both.sort((a,b)=>b.ch-a.ch);
  const top4=both.slice(0,4), bot4=both.slice(-4).reverse(), show=[...top4,...bot4];
  const colors=show.map(s=>s.ch>=0?'#4ade80':'#ef4444');
  Plotly.newPlot('c6',[{y:show.map(s=>s.s),x:show.map(s=>s.ch),type:'bar',orientation:'h',marker:{color:colors},
    text:show.map(s=>(s.ch>0?'+':'')+s.ch+' pp'),textposition:'outside',textfont:{size:10}}],
    {...LO,height:420,margin:{...LO.margin,l:200},xaxis:{...LO.xaxis,title:'Change (pp)'},
     yaxis:{...LO.yaxis,autorange:'reversed'}},CF);
}
function c7(){
  const cats=['Black','White','Hispanic','Asian','Multirace','LEP','IEP','FRL'];
  const fields=['black','white','hispanic','asian','multirace','lep','iep','frl'];
  const vals=fields.map(f=>gv(D.slps,2025,f));
  const colors=vals.map(v=>v>=80?'#4ade80':v>=50?'#fbbf24':'#ef4444');
  Plotly.newPlot('c7',[{x:cats,y:vals,type:'bar',marker:{color:colors},
    text:vals.map(v=>v!=null?v+'%':''),textposition:'outside',textfont:{size:10}}],
    {...LO,yaxis:{...LO.yaxis,range:[0,105],ticksuffix:'%'},
     shapes:[{type:'line',x0:-0.5,x1:cats.length-0.5,y0:90,y1:90,line:{color:'#94a3b8',width:1,dash:'dash'}}]},CF);
}
function c8(){
  Plotly.newPlot('c8',[
    {x:YS,y:YS.map(y=>gv(D.slps,y,'rate')),name:'SLPS',mode:'lines+markers',line:{color:C.slps,width:3},marker:{size:6}},
    {x:YS,y:YS.map(y=>ga('stl_msa',y)),name:'STL MSA Avg',mode:'lines+markers',line:{color:C.stl_msa,width:2,dash:'dash'},marker:{size:4}},
    {x:YS,y:YS.map(y=>ga('stl_charter',y)),name:'STL Charters',mode:'lines+markers',line:{color:C.stl_charter,width:2,dash:'dot'},marker:{size:4}},
  ],{...LO,yaxis:{...LO.yaxis,range:[20,100],ticksuffix:'%'},xaxis:{...LO.xaxis,dtick:2},legend:{...LO.legend,orientation:'h',y:-0.18}},CF);
}
function c9(){
  Plotly.newPlot('c9',[
    {x:YS,y:YS.map(y=>gv(D.slps,y,'rate')),name:'SLPS',mode:'lines+markers',line:{color:C.slps,width:3},marker:{size:6}},
    {x:YS,y:YS.map(y=>gv(D.kcps,y,'rate')),name:'KCPS',mode:'lines+markers',line:{color:C.kcps,width:3},marker:{size:6}},
    {x:YS,y:YS.map(y=>ga('kc_msa',y)),name:'KC MSA Avg',mode:'lines+markers',line:{color:C.kc_msa,width:2,dash:'dash'},marker:{size:4}},
    {x:YS,y:YS.map(y=>ga('kc_charter',y)),name:'KC Charters',mode:'lines+markers',line:{color:C.kc_charter,width:2,dash:'dot'},marker:{size:4}},
  ],{...LO,yaxis:{...LO.yaxis,range:[20,100],ticksuffix:'%'},xaxis:{...LO.xaxis,dtick:2},legend:{...LO.legend,orientation:'h',y:-0.18}},CF);
}
function c10(){
  const groups=['SLPS','STL MSA','STL Charters','KCPS','KC MSA','KC Charters'];
  const keys=['slps','stl_msa','stl_charter','kcps','kc_msa','kc_charter'];
  const vals=keys.map(k=>k==='slps'||k==='kcps'?gv(D[k],2025,'rate'):ga(k,2025));
  const colors=[C.slps,C.stl_msa,C.stl_charter,C.kcps,C.kc_msa,C.kc_charter];
  Plotly.newPlot('c10',[{x:groups,y:vals,type:'bar',marker:{color:colors},
    text:vals.map(v=>v!=null?v+'%':''),textposition:'outside',textfont:{size:11}}],
    {...LO,yaxis:{...LO.yaxis,range:[0,105],ticksuffix:'%'},
     shapes:[{type:'line',x0:-0.5,x1:groups.length-0.5,y0:90,y1:90,line:{color:'#94a3b8',width:1,dash:'dash'}}]},CF);
}
function c11(){
  Plotly.newPlot('c11',[
    {x:YS,y:YS.map(y=>gv(D.slps,y,'rate')),name:'SLPS Overall',mode:'lines+markers',line:{color:C.slps,width:2.5},marker:{size:5}},
    {x:YS,y:YS.map(y=>gv(D.slps,y,'k8')),name:'SLPS K-8',mode:'lines+markers',line:{color:C.slps,width:1.5,dash:'dash'},marker:{size:3}},
    {x:YS,y:YS.map(y=>gv(D.slps,y,'hs')),name:'SLPS 9-12',mode:'lines+markers',line:{color:C.slps,width:1.5,dash:'dot'},marker:{size:3}},
    {x:YS,y:YS.map(y=>gv(D.kcps,y,'rate')),name:'KCPS Overall',mode:'lines+markers',line:{color:C.kcps,width:2.5},marker:{size:5}},
    {x:YS,y:YS.map(y=>gv(D.kcps,y,'k8')),name:'KCPS K-8',mode:'lines+markers',line:{color:C.kcps,width:1.5,dash:'dash'},marker:{size:3}},
    {x:YS,y:YS.map(y=>gv(D.kcps,y,'hs')),name:'KCPS 9-12',mode:'lines+markers',line:{color:C.kcps,width:1.5,dash:'dot'},marker:{size:3}},
  ],{...LO,yaxis:{...LO.yaxis,range:[10,100],ticksuffix:'%'},xaxis:{...LO.xaxis,dtick:2},legend:{...LO.legend,orientation:'h',y:-0.22,font:{size:9}}},CF);
}
function c12(){
  const cats=['Black','White','Hispanic','Asian','Multirace'];
  const fields=['black','white','hispanic','asian','multirace'];
  const traces=[
    {x:cats,y:fields.map(f=>gv(D.slps,2025,f)),name:'SLPS',type:'bar',marker:{color:C.slps}},
    {x:cats,y:fields.map(f=>gv(D.kcps,2025,f)),name:'KCPS',type:'bar',marker:{color:C.kcps}},
    {x:cats,y:fields.map(f=>D.demo25.stl_msa?.[f]),name:'STL MSA',type:'bar',marker:{color:C.stl_msa}},
    {x:cats,y:fields.map(f=>D.demo25.kc_msa?.[f]),name:'KC MSA',type:'bar',marker:{color:C.kc_msa}},
  ];
  Plotly.newPlot('c12',traces,{...LO,barmode:'group',yaxis:{...LO.yaxis,range:[0,105],ticksuffix:'%'},legend:{...LO.legend,orientation:'h',y:-0.18}},CF);
}
function c13(){
  const cats=['LEP','IEP','FRL'], fields=['lep','iep','frl'];
  const traces=[
    {x:cats,y:fields.map(f=>gv(D.slps,2025,f)),name:'SLPS',type:'bar',marker:{color:C.slps}},
    {x:cats,y:fields.map(f=>gv(D.kcps,2025,f)),name:'KCPS',type:'bar',marker:{color:C.kcps}},
    {x:cats,y:fields.map(f=>D.demo25.stl_msa?.[f]),name:'STL MSA',type:'bar',marker:{color:C.stl_msa}},
    {x:cats,y:fields.map(f=>D.demo25.kc_msa?.[f]),name:'KC MSA',type:'bar',marker:{color:C.kc_msa}},
  ];
  Plotly.newPlot('c13',traces,{...LO,barmode:'group',yaxis:{...LO.yaxis,range:[0,105],ticksuffix:'%'},legend:{...LO.legend,orientation:'h',y:-0.18}},CF);
}
function c14(){
  const cfg={slps:{c:C.slps,n:'SLPS',sz:14},kcps:{c:C.kcps,n:'KCPS',sz:14},stl_msa:{c:C.stl_msa,n:'STL MSA',sz:7},stl_charter:{c:C.stl_charter,n:'STL Charters',sz:7},kc_msa:{c:C.kc_msa,n:'KC MSA',sz:7},kc_charter:{c:C.kc_charter,n:'KC Charters',sz:7}};
  const traces=Object.entries(cfg).map(([g,{c,n,sz}])=>{
    const pts=D.scatter.filter(p=>p.g===g);
    return {x:pts.map(p=>p.f),y:pts.map(p=>p.r),text:pts.map(p=>p.n),name:n,mode:'markers',
      marker:{color:c,size:sz,opacity:.8},hovertemplate:'%{text}<br>FRL:%{x}%<br>Rate:%{y}%<extra></extra>'};
  });
  Plotly.newPlot('c14',traces,{...LO,xaxis:{...LO.xaxis,title:'FRL Rate %',ticksuffix:'%'},
    yaxis:{...LO.yaxis,title:'Overall Rate %',range:[0,105],ticksuffix:'%'},
    legend:{...LO.legend,orientation:'h',y:-0.18,font:{size:9}}},CF);
}
</script>
<script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
<script>
Reveal.initialize({hash:true,width:1280,height:720,margin:0.04,
  transition:'fade',backgroundTransition:'none'});
Reveal.on('slidechanged',renderSlide);
Reveal.on('ready',renderSlide);
// Click to advance slides
document.querySelector('.reveal').addEventListener('click',function(e){
  if(e.target.closest('a,button,.dl-bar'))return;
  var rect=document.querySelector('.reveal').getBoundingClientRect();
  if(e.clientX<rect.left+rect.width*0.3){Reveal.prev();}
  else{Reveal.next();}
});
</script>
</body>
</html>